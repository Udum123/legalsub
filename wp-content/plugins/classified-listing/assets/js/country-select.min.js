jQuery((function(t){if("undefined"==typeof rtcl_country_select_params)return!1;if(t.fn.select2){var e=function(){t("select.country_select:visible, select.state_select:visible").each((function(){var e=t(this),n=t.extend({placeholder:e.attr("data-placeholder")||e.attr("placeholder")||"",label:e.attr("data-label")||null,width:"100%"},{language:{errorLoading:function(){return rtcl_country_select_params.i18n_searching},inputTooLong:function(t){var e=t.input.length-t.maximum;return 1===e?rtcl_country_select_params.i18n_input_too_long_1:rtcl_country_select_params.i18n_input_too_long_n.replace("%qty%",e)},inputTooShort:function(t){var e=t.minimum-t.input.length;return 1===e?rtcl_country_select_params.i18n_input_too_short_1:rtcl_country_select_params.i18n_input_too_short_n.replace("%qty%",e)},loadingMore:function(){return rtcl_country_select_params.i18n_load_more},maximumSelected:function(t){return 1===t.maximum?rtcl_country_select_params.i18n_selection_too_long_1:rtcl_country_select_params.i18n_selection_too_long_n.replace("%qty%",t.maximum)},noResults:function(){return rtcl_country_select_params.i18n_no_matches},searching:function(){return rtcl_country_select_params.i18n_searching}}});t(this).on("select2:select",(function(){t(this).trigger("focus")})).select2(n)}))};e(),t(document.body).on("country_to_state_changed, rtcl_checkout_form_opened",(function(){e()}))}var n=rtcl_country_select_params.countries.replace(/&quot;/g,'"'),r=JSON.parse(n),a="#rtcl-billing-fields";t(document.body).on("change refresh","select.country_to_state, input.country_to_state",(function(){var e=t(this).closest(a);e.length||(e=t(this).closest(".rtcl-form-row").parent());var n,c=t(this).val(),o=e.find("#billing_state"),l=o.closest(".rtcl-form-row"),i=o.attr("name"),s=o.attr("id"),_=o.attr("data-input-classes"),u=o.val(),p=o.attr("placeholder")||o.attr("data-placeholder")||"";if(r[c])if(t.isEmptyObject(r[c]))n=t('<input type="hidden" />').prop("id",s).prop("name",i).prop("placeholder",p).attr("data-input-classes",_).addClass("hidden "+_),l.hide().find(".select2-container").remove(),o.replaceWith(n),t(document.body).trigger("country_to_state_changed",[c,e]);else{var d=r[c],h=t('<option value=""></option>').text(rtcl_country_select_params.i18n_select_state_text);p||(p=rtcl_country_select_params.i18n_select_state_text),l.show(),o.is("input")&&(n=t("<select></select>").prop("id",s).prop("name",i).data("placeholder",p).attr("data-input-classes",_).addClass("state_select "+_),o.replaceWith(n),o=e.find("#billing_state")),o.empty().append(h),t.each(d,(function(e){var n=t("<option></option>").prop("value",e).text(d[e]);o.append(n)})),o.val(u).trigger("change"),t(document.body).trigger("country_to_state_changed",[c,e])}else o.is('select, input[type="hidden"]')&&(n=t('<input type="text" />').prop("id",s).prop("name",i).prop("placeholder",p).attr("data-input-classes",_).addClass("input-text  "+_),l.show().find(".select2-container").remove(),o.replaceWith(n),t(document.body).trigger("country_to_state_changed",[c,e]));t(document.body).trigger("country_to_state_changing",[c,e])})),t(document.body).on("rtcl_address_i18n_ready",(function(){t(a).each((function(){var e=t(this).find("#billing_country, #shipping_country, #calc_shipping_country");0!==e.length&&0!==e.val().length&&e.trigger("refresh")}))}))}));