!function(e,t){e((function(){e.fn.select2&&e(".rtcl-select2").select2(),e.fn.wpColorPicker&&e(".rtcl-color").wpColorPicker(),e.fn.rtFieldDependency&&e("[data-rt-depends]").rtFieldDependency();var r=e(".rtcl-setting-image-wrap");r.on("click",".rtcl-add-image",(function(t){t.preventDefault();var r,s,i=e(this).parents(".rtcl-setting-image-wrap");void 0===r?((r=wp.media.frames.file_frame=wp.media({frame:"post",state:"insert",multiple:!1})).on("insert",(function(){if(s=r.state().get("selection").first().toJSON(),!(0>e.trim(s.url.length))){var t=void 0===s.sizes.medium?s.url:s.sizes.medium.url;i.find(".rtcl-setting-image-id").val(s.id),i.find(".image-preview-wrapper").html('<img src="'+t+'" alt="'+s.title+'" />'),i.find(".rtcl-add-image").trigger("rtclImageChangeEvent",[t])}})),r.open()):r.open()})),t.rtclSettingsImageConfirm=!1,r.on("click",".rtcl-remove-image",(function(r){r.preventDefault();var s=e(this).parents(".rtcl-setting-image-wrap");t.rtclSettingsImageConfirm=confirm("Are you sure to delete?"),rtclSettingsImageConfirm&&(s.find(".rtcl-setting-image-id").val(""),s.find(".image-preview-wrapper img").attr("src",s.find(".image-preview-wrapper").data("placeholder")))}));var s=e("#rtcl_account_settings-user_verification");s.is(":checked")&&e(".rtcl_account_settings-verify_max_resend_allowed").show("slow"),s.on("change",(function(){e(this).is(":checked")?e(".rtcl_account_settings-verify_max_resend_allowed").show("slow"):e(".rtcl_account_settings-verify_max_resend_allowed").hide("slow")}));var i=e("#rtcl_account_settings-enable_terms_conditions");i.is(":checked")&&e(".rtcl_account_settings-terms_conditions").show("slow"),i.on("change",(function(){e(this).is(":checked")?e(".rtcl_account_settings-terms_conditions").show("slow"):e(".rtcl_account_settings-terms_conditions").hide("slow")}))})),e(".rtcl-license-wrapper").on("click",".rt-licensing-btn",(function(t){t.preventDefault();var r=e(this),s=r.closest("td"),i=r.data("action"),n=r.hasClass("license_activate")?"license_activate":"license_deactivate";i?e.ajax({type:"POST",url:ajaxurl,data:{action:i,type:n},beforeSend:function(){s.rtclBlock()},success:function(e){s.rtclUnblock(),e.error?e.msg&&toastr.error(e.msg):(r.text(e.value).removeClass(n).addClass(e.type),"license_deactivate"===e.type?r.removeClass("button-primary").addClass("danger"):"license_activate"===e.type&&r.removeClass("danger").addClass("button-primary"),toastr.success(e.msg)),r.blur()},error:function(e,t){s.rtclUnblock(),0===e.status?toastr.error("","Not connect.\n Verify Network."):404===e.status?toastr.error("","Requested page not found. [404]"):500===e.status?toastr.error("","Internal Server Error [500]."):"parsererror"===t?toastr.error("","Requested JSON parse failed."):"timeout"===t?toastr.error("","Time out error."):"abort"===t?toastr.error("","Ajax request aborted."):toastr.error("","Uncaught Error.\n"+e.responseText)}}):toastr.error("","Action not defined!!")}))}(jQuery,window);
